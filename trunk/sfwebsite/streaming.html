<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
Design by Free CSS Templates
http://www.freecsstemplates.org
Released for free under a Creative Commons Attribution 2.5 License

Name       : Familiar 
Description: A two-column, fixed-width design for 1024x768 screen resolutions.
Version    : 1.0
Released   : 20091206

-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Morse Code Tools</title>
<meta name="Keywords" content="" />
<meta name="Description" content="" />
<link href="style.css" rel="stylesheet" type="text/css" media="screen" />
</head>
<body>
<div id="logo">
	<h1><a href="index.html">Morse Code Tools</a></h1>
	<p><em>listen to news and send with a software keyer</em></p>
</div>
<hr />
<!-- end #logo -->
<!-- end #header -->
<!-- end #header-wrapper -->
<div id="page">
	<div id="content">
		<div class="post">
			<h2 class="title"><a href="#">Creating Your Own Internet Morse Code Broadcast</a></h2>
			<p>&nbsp;</p>
			<div class="entry">
				<p>You can use the Morse News application together with the <a href="http://www.microsoft.com/expression/products/Encoder4_Overview.aspx" target="_blank">Microsoft Expression Encoder</a> to create an internet broadcast of the sound that is generated by your running copy of Morse News. This would best be run on a server machine since any sound that is played through the system's audio is transmitted through the streaming channel to listeners. If you have a computer that is not used interactively, you can set up our own Morse code radio station that transmits news etc. to listeners. For an example, you can listen to the <a href="mms://morsecode.dc3.com:9876/" target="_blank">Morse Code News broadcast</a> that the author sends.</p>
				<p>This page does not include detailed or click-by-click instructions on using Microsoft Expression Encoder. Sorry but that would be just too much! Hopefully, though, the info that I have written up here, and the images below, are enough to get you going.</p>
				<h2>The Basics </h2>
<p>Expression Encoder has the ability to serve streams over the internet <em>without a separate server like IIS</em>. It can be set up to stream the audio that you hear through your computer's speakers, the so-called &quot;stereo-mix&quot; audio. Also, it can be set up to stream video from an area that it captures from your computer's screen. The idea here is to have it stream the audio from Morse News as well as the crawling text area at the bottom of the Morse News window. The result is a video/audio streaming program that lets users see what is being sent and hear the Morse code at the same time. Here's what it looks like in the WIndows Media Player:</p>
<div align="center"><img src="images/stm-wmp.png" alt="" width="392" height="198" /></div><br />
<h2>Setting Up Morse News</h2>
<p>The first thing to do is to get your Morse Code broadcast set up with the feed(s) and sound characteristics you want for your broadcast. Adjust the signal level as well as the noise, static and fading controls as you wish, and listen for a while to make sure you have it like you want.</p>
<h2>Setting Up Expression Encoder</h2>
<ol>
	<li>Install <a href="http://www.microsoft.com/expression/products/Encoder4_Overview.aspx" target="_blank">Microsoft Expression Encoder 4.0 SP2 (or later)</a>. <span style="text-decoration:underline;">The free version is fine</span>, you do not need to pay for the Pro version!</li>
	<li>Download	<a href="VideoJob.zip" target="_blank">VideoJob.zip</a> and	save the enclosed file <tt>Morse Code Video.xej</tt> in<br />
		<tt>My Documents\Expression\Expression Encoder\Jobs</tt>. </li>
	<li>Start Expression Encoder and open the Job file <tt>Morse Code Video</tt>. This will establish most of the settings you need. </li>
	<li>Click the little window at the top of the Live Sources column:<br />
	<img src="images/stm-livesource.png" alt="" width="267" height="153" vspace="4" /><br />
	and you should see 
	the video source info at the bottom of this column (don't worry about what shows in the little window yet):<br />
	<img src="images/stm-livesourcecfg.png" alt="" width="285" height="149" vspace="4" /></li>
	<li>Change the Audio Device to Primary or your sound card.</li>
	<li>If needed, change the Audio Line to Stereo Mix.</li>
	<li>Start Morse News so that it is sending news and set its volume to a notch or two below max.</li>
	<li>Adjust the Volume control (in the bottom row) so that the yellow volume indicator rarely (if ever) reaches the top of the video preview area (100%), but so it is as high as practical. If you have fading enabled, watch the volume bar for a while, as it can vary over a large range!</li>
	<li>Click Pick Rectangle. Expression Encoder will minimize. Select the rectangle that contains the news crawler in Morse News. This will take a few tries to get just right. You can click the COnfigure button afterward to tweak the selection rectangle. Eventually you should see just the text crawling in the little Live Sources window as shown above.</li>
	<li>At this point you should be ready. For reference, here are some screen shots of the other important areas of Expression Encoder. First the encoding settings:<br />
		<br />
		<img src="images/stm-encode.png" alt="" width="332" height="111" /><br />
		<br />
		<img src="images/stm-encvideo.png" alt="" width="329" height="273" /><br />
		<br />
		<img src="images/stm-encaudio.png" alt="" width="330" height="153" /><br />
		<br />
		Next, the Metadata settings (change these for you!):<br />
		<br />
		<img src="images/stm-meta.png" alt="" width="334" height="165" /><br />
		<br />
		And finally the output settings:<br />
		<br />
		<img src="images/stm-output.png" alt="" width="349" height="135" /><br />
		<br />
		You can change the port if you want, and feel free to change the max number of simultaneous connections, depending on the net bandwidth you have.</li>
	<li>Click the Start button and Encoder should begin to encode the Morse video and sound. You should see something like this in the main center window of Encoder:<br />
		<br />
		<img src="images/stm-vidpvw.png" alt="" width="328" height="71" /><br />
	</li>
	</ol>
<h2>Tuning Into Your Broadcast</h2>
<p>For a definitive test, launch Windows Media Player and open URL <tt>rtsp://your.ip.or.domain:9876/</tt>. If you changed the port, use that instead of 9876. The stream should start playing in 10-20 seconds. </p>
<p>In some players, you will need to use a URL prefix of <tt>mms://</tt> instead of <tt>rtsp://</tt>. Those players are out of date as Microsoft deprecated the <a href="http://en.wikipedia.org/wiki/Microsoft_Media_Server" target="_blank">Microsoft Media Player (mms) protocol</a> in favor of the <a href="http://en.wikipedia.org/wiki/Real_Time_Streaming_Protocol" target="_blank">Real Time Streaming Protocol (rtsp)</a> in 2003 .</p>
<h2>Firewall/NAT Issues</h2>
<p>Most computers sit behind a NAT router where the local computers (the ones in your house/office) have non-routable addresses beginning with 192.168. These systems are unreachable from the Internet (outside your home of orrice) unless you set up port forwarding for port 9876 (or your chosen port) to go to the internal (192.168) address of the computer running Morse News and Expression Encoder. It is way beyond the scope of this document to cover NAT and port forwarding for servers behind a NAT firewall. Consult the copious info on the internet that covers these issues. Note that you can use a dynamic DNS service such as <a href="http://www.no-ip.com/" target="_blank">No-IP.com</a> to give your Morse broadcast a permanent domain name even if your router's public address is a changing/dynamic address.</p>
<h2>Players on Other Platforms</h2>
<p>You should be able to find a good player for RTSP/MMS streams on any platform. Some of the ones that work well for me are:</p>
<ul>
	<li>Android: <a href="https://play.google.com/store/apps/details?id=me.abitno.vplayer.t&amp;hl=en" target="_blank">VPlayer Video Player</a> (Outstanding!)</li>
	<li>iOS: <a href="http://itunes.apple.com/us/app/goodplayer/id416756729?mt=8" target="_blank">GoodPlayer</a> (Good, but tricky to find the real time streaming URL input. Do not use H/W encoding)</li>
	<li>Windows:  Windows Media Player, <a href="http://www.winamp.com/" target="_blank">WinAmp</a>, <a href="http://www.videolan.org/vlc/index.html" target="_blank">VLC Media Player</a></li>
	<li>Macintosh: QuickTime Player, <a href="http://www.videolan.org/vlc/index.html" target="_blank">VLC Media Player</a></li>
	<li>Linux: <a href="http://www.videolan.org/vlc/index.html" target="_blank">VLC Media Player</a>			</li>
</ul>
			</div>
		</div>
	</div>
	<!-- end #content -->
	<div id="sidebar">
		<ul>
			<li>
				<h2>Author's Morse Broadcast</h2>
			</li>
			<li>This may or may not be running at any given time. I don't make any promises, as it runs on a server that is used for my astronomy business, which takes precedence!
				<p><a href="rtsp://morsecode.dc3.com:9876/" target="_blank">rtsp://morsecode.dc3.com:9876/</a><br />
				<a href="mms://morsecode.dc3.com:9876/" target="_blank">mms://morsecode.dc3.com:9876/</a></p>
			</li>
			<li>
				<h2>Microsoft Expression Encoder</h2>
			</li>
			<li>Here is the download link for Microsoft Expression Encoder 4 SP2, the latest version available as of June 2012.
				<p> <a href="http://www.microsoft.com/en-us/download/details.aspx?id=27870" target="_blank">http://www.microsoft.com/en-us/download/details.aspx?id=27870</a></p>
			</li>
		</ul>
	</div>
	<!-- end #sidebar -->
	<div style="clear: both;">&nbsp;Contact: Bob Denny <a href="mailto:rdenny@dc3.com">&lt;rdenny@dc3.com&gt;</a></div>
</div>
<!-- end #page -->
<div id="footer">
	<div align="center"><a href="http://sourceforge.net/projects/morse-rss-news"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=308183&amp;type=11" width="120" height="30" alt="Get Morse Code Tools at SourceForge.net. Fast, secure and Free Open Source software downloads" /></a></div>
	<p>Copyright (c) 2012 Robert B. Denny, Mesa, AZ. All rights reserved. Design by <a href="http://www.freecsstemplates.org/">Free CSS Templates</a>.</p>
</div>
<!-- end #footer -->
</body>
</html>
